<html layout:decorate="~{layout}">
<div layout:fragment="content">
    <div id="map" style="width:100%;height:350px;"></div>
    <form th:object="${menuForm}" method="post">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <input type="text" th:field="*{name}" name="name" value="">
        <input type="text" th:field="*{price}" name="lat" value="">
        <input type="text" th:field="*{foodType}" name="lng" value="">
        <input type="submit" value="등록">
    </form>
</div>

<script layout:fragment="script">
    const lat = [[${store.lat}]];
    const lng = [[${store.lng}]];
    const mapContainer = document.getElementById('map'),
        mapOption = {
            center: new kakao.maps.LatLng(lat, lng),
            level: 2
        };

    const map = new kakao.maps.Map(mapContainer, mapOption);

    const markerPosition = new kakao.maps.LatLng(lat, lng);
    const marker = new kakao.maps.Marker({
        position : markerPosition
    });
    marker.setMap(map);
</script>
</html>