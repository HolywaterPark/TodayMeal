<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container">
    <div id="map" style="width:100%;height:350px; position: relative; overflow: hidden;"></div>
    <div class="card my-3" th:each="menu : ${store.menuList}">
        <div class="card">
            <div class="card-body">
                <div class="card-title" th:text="${menu.name}"></div>
                <div class="card-text" th:text="${menu.price}"></div>
                <div class="card-text" th:text="${menu.foodType}"></div>
            </div>
        </div>
    </div>
    <div>
        <a th:href="@{|/menu/create/${store.id}|}" class="btn btn-primary">메뉴 등록하기</a>
    </div>
</div>
<script layout:fragment="script">
    const lat = [[${store.lat}]];
    const lng = [[${store.lng}]];
    const mapContainer = document.getElementById('map'),
        mapOption = {
            center: new kakao.maps.LatLng(lat, lng),
            level: 2
        };

    const map = new kakao.maps.Map(mapContainer, mapOption);

    const markerPosition = new kakao.maps.LatLng(lat, lng);
    const marker = new kakao.maps.Marker({
       position : markerPosition
    });
    marker.setMap(map);
</script>
</html>